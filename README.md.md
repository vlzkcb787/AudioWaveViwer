# 📋 Version History

> AudioWave Viewer의 버전별 변경사항과 기능 개선 내역을 기록합니다.

---

## 🚀 Latest Release: v4.0.1

### ✨ What's New
- **통일된 주파수 변환 모듈** 구현
- **세분화된 스펙트럼 X축 간격** (0Hz~10kHz, 50Hz 단위)
- **정확한 드래그 영역 주파수 계산**
- **실시간/파일 재생 모드 통합**
- **타임라인 게이지 시스템**
- **볼륨 제어** (0~1000%)

### 🔧 Technical Improvements
- 주파수 변환 모듈 통일 및 최적화
- 드래그 영역과 주파수 표시 정확도 수정
- 중복 코드 제거 및 성능 최적화
- 좌표계 통일 및 일관성 개선

---

## 📚 Version History

### v4.0.1 (2024) - 주파수 계산 정확도 및 코드 최적화
**Release Date:** 2024년

#### 🎯 Key Features
- 스펙트럼 X축 주파수 간격 세분화
- 0Hz, 50Hz, 100Hz, 200Hz, 300Hz, 400Hz, 500Hz, 600Hz, 700Hz, 800Hz, 900Hz, 1kHz, 2kHz, 5kHz, 10kHz
- 저주파 영역의 정밀한 분석 가능
- AudioScheduledSourceNode 에러 처리 개선

#### 🔧 Technical Improvements
- **주파수 변환 모듈 통일**
  - `FREQUENCY_CONFIG`: 전역 주파수 설정 통일
  - `FREQUENCY_CACHE`: 로그 스케일 변환 캐시 최적화
  - `initFrequencyModule()`: 모듈 초기화 함수
  - `hzToCanvasX()`: 주파수 → X좌표 변환 (통일된 로직)
  - `canvasXToHz()`: X좌표 → 주파수 변환 (정확한 역변환)
  - `hzToCanvasXFromBin()`: FFT 빈 인덱스 → X좌표 변환
  - `getGridFrequencyValues()`: 그리드용 주파수 값 반환

- **좌표계 통일**
  - 모든 주파수 변환에서 동일한 로그 스케일 보간 사용
  - 그리드 라인과 드래그 영역의 정확한 정렬
  - 패딩 값 통일 (left: 0으로 일관성 확보)

- **드래그 영역 정확도 수정**
  - 이전: 100~300Hz 선택 시 76~263Hz 표시 (오차 발생)
  - 수정: 100~300Hz 선택 시 정확히 100~300Hz 표시
  - 로그 스케일 보간을 통한 정밀한 주파수 계산

- **코드 최적화**
  - 중복된 frequencyValues 배열 정의 제거
  - 캐시된 로그 스케일 값으로 성능 향상
  - 모듈화를 통한 유지보수성 개선
  - 일관된 변환 로직으로 버그 방지

- **사용자 경험 개선**
  - 정확한 주파수 대역 선택 및 표시
  - 시각적 정렬과 실제 주파수 값의 일치
  - 50Hz 단위 정밀한 주파수 분석 가능

- **크로스 플랫폼 지원**
  - macOS 빌드 설정 추가
  - BUILD_MACOS.md 가이드 문서 생성
  - npm run build-mac 스크립트 추가
  - 코드 서명 비활성화 설정 (identity: null)
  - dist/mac 폴더에 macOS 빌드 결과 정리

---

### v4.0.0 (2024) - 파일 재생 및 통합 아키텍처
**Release Date:** 2024년

#### 🎯 Key Features
- **파일 업로드 및 재생 기능**
- **통합 오디오 처리 아키프라인**
- **실시간/음원재생 모드 전환**
- **타임라인 게이지 시스템**
- **로딩 모달 및 사용자 경험 개선**

#### 🔧 Technical Improvements
- **통합 오디오 아키텍처**
  - 실시간 입력과 파일 재생을 동일한 파이프라인으로 처리
  - 모든 기능이 두 모드에서 일관되게 작동

- **파일 재생 시스템**
  - 오디오 파일 업로드 및 디코딩
  - 재생/일시정지/정지/반복 컨트롤
  - 타임라인 게이지 (회색 배경 + 초록색 진행률)
  - 클릭으로 정확한 시간 이동

- **UI/UX 개선**
  - 모드 선택 우선의 상단바 설계
  - 조건부 컨트롤 표시 (모드별)
  - 로딩 모달 (파일 처리 중)
  - 파일명 표시 및 상태 관리

- **기술적 개선**
  - AudioScheduledSourceNode 안전한 관리
  - 볼륨 설정 모드 간 동기화
  - 에러 처리 및 복구 메커니즘
  - 메모리 누수 방지

#### 📊 Technical Specifications
- **Electron:** 32.0.0
- **Web Audio API**
- **HTML5 Canvas**
- **FFT Size:** 2048
- **샘플레이트:** 48kHz
- **지원 형식:** 모든 오디오 파일 (Web Audio API 지원)
- **볼륨 범위:** 0% ~ 1000%
- **지연시간:** < 50ms (실시간 모드)

#### 📖 Usage Guide
**실시간 모드:**
1. "실시간" 버튼 선택
2. 입력 디바이스 선택
3. Start 버튼으로 마이크 활성화
4. 스펙트럼 실시간 분석

**음원재생 모드:**
1. "음원재생" 버튼 선택
2. "파일 선택"으로 오디오 파일 업로드
3. 재생 컨트롤로 파일 재생
4. 타임라인 게이지 클릭으로 시간 이동

**공통 기능:**
- 주파수 대역 드래그 선택
- Output ON/OFF 토글
- 볼륨 게이지 조절
- Clear Band로 선택 해제

---

### v3.0.0 (2024) - 성능 최적화 및 UI 개선
**Release Date:** 2024년

#### 🎯 Key Features
- **실시간 오디오 파이프라인 최적화**
- **AnalyserNode를 출력 경로에서 분리**
- **지연시간 최소화** (latencyHint: 'interactive')
- **스크롤바 제거 및 전체 화면 레이아웃**
- **반응형 디자인 개선**

---

### v2.1.0 (2024) - 드래그 영역 표시 오류 수정
**Release Date:** 2024년

#### 🎯 Key Features
- **스펙트럼 드래그 선택 영역 좌표 정확도 개선**
- **파란색 미리보기 영역과 초록색 선택 영역 일치**
- **마우스 포인터와 드래그 영역 정확한 정렬**

---

### v2.0.0 (2024) - 볼륨 시스템 대폭 개선
**Release Date:** 2024년

#### 🎯 Key Features
- **볼륨 범위 확장** (0% ~ 1000%)
- **비선형 게이지 비율** (100% = 중간, 1000% = 최상단)
- **색상 구간 세분화:**
  - 0-100%: 녹색
  - 100-120%: 녹색→노란색 (그라데이션)
  - 121-500%: 노란색→주황색
  - 501-520%: 주황색→빨간색 (그라데이션)
  - 521-1000%: 빨간색→진홍색

---

### v1.2.0 (2024) - 볼륨 게이지 시스템
**Release Date:** 2024년

#### 🎯 Key Features
- **세로형 볼륨 게이지 추가**
- **볼륨 범위 확장** (0% ~ 1000%)
- **색상 구간별 표시** (녹색/노란색/빨간색/진홍색)
- **그라데이션 전환 효과**
- **우클릭으로 100% 리셋**

---

### v1.1.0 (2024) - 스펙트럼 스무딩 개선
**Release Date:** 2024년

#### 🎯 Key Features
- **스펙트럼 그래프 곡선 부드럽게 개선**
- **Catmull-Rom 스플라인 알고리즘 적용**
- **저주파 영역 각진 형태 개선**

---

### v1.0.0 (2024) - 기본 오디오 스코프 기능
**Release Date:** 2024년

#### 🎯 Key Features
- **실시간 오디오 입력 캡처** (마이크)
- **실시간 스펙트럼 분석 및 시각화**
- **주파수 대역 선택 및 필터링**
- **Output ON/OFF 토글**
- **볼륨 조절** (0-100%)

---

## 📝 Release Notes Format

각 버전은 다음 형식으로 기록됩니다:
- **🎯 Key Features:** 주요 기능 추가/개선
- **🔧 Technical Improvements:** 기술적 개선사항
- **🐛 Bug Fixes:** 버그 수정
- **📊 Technical Specifications:** 기술 사양
- **📖 Usage Guide:** 사용법 가이드

---

## 🤝 Contributing

버전 히스토리에 기여하고 싶으시다면:
1. 새로운 기능이나 개선사항을 추가할 때
2. 버그 수정이나 성능 개선을 할 때
3. 문서화나 사용법 가이드를 업데이트할 때

위 형식을 따라 이 파일을 업데이트해주세요.

---

## 📄 License

**MIT License** - 자유롭게 사용, 수정, 배포할 수 있습니다.

**개발자:** AudioWave Viewer Team  
**최종 업데이트:** 2024년
